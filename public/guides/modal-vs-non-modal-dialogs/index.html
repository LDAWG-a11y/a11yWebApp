<!doctype html><html lang="en" class="no-js"><head><title>Modal vs non-modal dialogs | Make Things Accessible</title><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="theme-color" content="#702A8C"><meta name="description" content="There are primarily two different types of dialog, one blocks access to the underlying page and is considered Modal, whereas the other does still allows interaction with the page content"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="color-scheme" content="light dark"><script>document.documentElement.classList.remove('no-js');
    document.documentElement.classList.add('has-js');
    
    if (localStorage.getItem('theme')) {
      localStorage.setItem('data-pref--theme', localStorage.getItem('theme'));
      localStorage.removeItem('theme');
    }

    if (localStorage.getItem('data-pref--theme')) {
      document.documentElement.setAttribute('data-pref--theme', localStorage.getItem('data-pref--theme'))
    }</script><link rel="preload" href="/fonts/rem-500.woff2" as="font" type="font/woff2" crossorigin><link rel="preload" href="/fonts/rem-700.woff2" as="font" type="font/woff2" crossorigin><link rel="preload" href="/fonts/rem-900.woff2" as="font" type="font/woff2" crossorigin><link rel="preload" href="/fonts/red-hat-display-400.woff2" as="font" type="font/woff2" crossorigin><link rel="preload" href="/fonts/red-hat-display-500.woff2" as="font" type="font/woff2" crossorigin><link rel="stylesheet" href="/css/main.css"><link rel="shortcut icon" type="image/x-icon" href="/img/favicon.ico"><link rel="canonical" href="https://www.makethingsaccessible.com/guides/modal-vs-non-modal-dialogs/"><meta property="og:title" content="Modal vs non-modal dialogs | Make Things Accessible"><meta property="og:description" content="There are primarily two different types of dialog, one blocks access to the underlying page and is considered Modal, whereas the other does still allows interaction with the page content"><meta property="og:url" content="https://www.makethingsaccessible.com/guides/modal-vs-non-modal-dialogs/"><meta property="og:locale" content="en_GB"><meta property="og:site_name" content="Make Things Accessible"><meta property="og:type" content="website"><meta property="og:image" content="https://www.makethingsaccessible.com/img/social-logo.jpg"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="Make Things Accessible"><meta name="twitter:description" content="Modal vs non-modal dialogs | Make Things Accessible"><meta name="twitter:image" content="https://www.makethingsaccessible.com/img/social-logo.jpg"><meta name="twitter:image:alt" content="Make Things Accessible logo"><meta name="generator" content="Eleventy"><script type="application/ld+json">{
        "@context": "http://schema.org",
        "@type": "Article",
        "name": "Modal vs non-modal dialogs",
        "author": {
          "@type": "Person",
          "name": "[object Object]"
        },
        "datePublished": "2024-04-29T00:00:00.000Z"
      }</script></head><body><header class="header"><a class="skip-link" href="#h1">Skip navigation</a><nav class="nav btm__gutter--largest"><button class="nav__prefs-btn flex--middle" id="prefsBtn"><svg width="32" height="32" viewBox="0 0 32 32" focusable="false" aria-hidden="true"><path d="M 30.460938 19.730469 L 27.800781 18.195312 C 28.070312 16.742188 28.070312 15.257812 27.800781 13.804688 L 30.460938 12.269531 C 30.769531 12.09375 30.90625 11.730469 30.804688 11.394531 C 30.113281 9.167969 28.929688 7.15625 27.386719 5.480469 C 27.148438 5.226562 26.761719 5.164062 26.460938 5.335938 L 23.800781 6.875 C 22.679688 5.914062 21.394531 5.167969 20 4.679688 L 20 1.613281 C 20 1.261719 19.757812 0.957031 19.414062 0.882812 C 17.117188 0.367188 14.769531 0.394531 12.585938 0.882812 C 12.242188 0.957031 12 1.261719 12 1.613281 L 12 4.6875 C 10.613281 5.179688 9.324219 5.925781 8.199219 6.882812 L 5.542969 5.34375 C 5.238281 5.167969 4.855469 5.226562 4.617188 5.488281 C 3.074219 7.15625 1.894531 9.167969 1.199219 11.398438 C 1.09375 11.738281 1.238281 12.101562 1.542969 12.273438 L 4.207031 13.8125 C 3.9375 15.261719 3.9375 16.75 4.207031 18.199219 L 1.542969 19.738281 C 1.238281 19.914062 1.101562 20.273438 1.199219 20.613281 C 1.894531 22.835938 3.074219 24.851562 4.617188 26.523438 C 4.855469 26.78125 5.242188 26.84375 5.542969 26.667969 L 8.207031 25.132812 C 9.324219 26.09375 10.613281 26.835938 12.007812 27.324219 L 12.007812 30.398438 C 12.007812 30.75 12.25 31.054688 12.59375 31.132812 C 14.886719 31.644531 17.238281 31.617188 19.417969 31.132812 C 19.761719 31.054688 20.007812 30.75 20.007812 30.398438 L 20.007812 27.324219 C 21.394531 26.832031 22.679688 26.085938 23.804688 25.132812 L 26.46875 26.667969 C 26.773438 26.84375 27.15625 26.789062 27.394531 26.523438 C 28.9375 24.855469 30.117188 22.84375 30.8125 20.613281 C 30.90625 20.269531 30.769531 19.90625 30.460938 19.730469 Z M 16 21 C 13.242188 21 11 18.757812 11 16 C 11 13.242188 13.242188 11 16 11 C 18.757812 11 21 13.242188 21 16 C 21 18.757812 18.757812 21 16 21 Z M 16 21 "/></svg> <span class="visually-hidden">Settings</span></button> <button class="nav__menu-btn flex--middle" id="navBtn" aria-controls="navPanel" aria-expanded="false" data-untouched><span class="nav__menu-bar"></span> <span class="visually-hidden">Menu</span></button><div class="nav__wrapper" id="navPanel"><ul class="nav__list"><li class="nav__item"><a class="nav__link" href="/">Home</a></li><li class="nav__item"><a class="nav__link" href="/about/">About</a></li><li class="nav__item"><a class="nav__link" href="/guides/">Guides</a></li><li class="nav__item"><a class="nav__link" href="/faqs/">FAQs</a></li><li class="nav__sub-items--parent"><noscript><a class="nav__link" href="#footerLinks">All links</a></noscript><button class="nav__btn--collab" aria-expanded="false" aria-controls="collabNavPanel" id="collabBtn" hidden>Collaborations</button><div class="nav__list-sub-panel" id="collabNavPanel" hidden><ul class="nav__list--level-2"><li><h2 class="nav__list-collaborator" data-no-accent>RNIB</h2><ul class="nav__list--level-3"><li><a class="nav__link-sub" href="/rnib/accessibility-passport">Accessibility passport</a></li></ul></li><li><h2 class="nav__list-collaborator" data-no-accent>Access and Assistance for All</h2><ul class="nav__list--level-3"><li><a class="nav__link-sub" href="/aaa/">AAA Home</a></li><li><a class="nav__link-sub" href="/aaa/roles/">AAA Roles</a></li><li><a class="nav__link-sub" href="/aaa/student-stories/">AAA Student Stories</a></li><li><a class="nav__link-sub" href="/aaa/supporters/">AAA Supporters</a></li></ul></li></ul></div></li></ul></div></nav><picture class="header__logo flex--middle btm__gutter--largest"><source media="(prefers-color-scheme: light)" srcset="/img/mta-light-sm.webp 360w, /img/mta-light.webp 600w" data-main-logo><source media="(prefers-color-scheme: light)" srcset="/img/mta-light.png" data-main-logo><source media="(prefers-color-scheme: dark)" srcset="/img/mta-dark-sm.webp 360w, /img/mta-dark.webp 600w" data-main-logo><source media="(prefers-color-scheme: dark)" srcset="/img/mta-dark.png" data-main-logo><img src="/img/mta-light.png" height="136" width="600" alt="Make Things Accessible, logo"></picture><search class="header__search-block btm__gutter--largest"><label id="sFilterLbl" for="sFilter" class="search__label">Search for Guides or Tags, by keyword</label><div class="search__wrapper" data-expanded="false"><input class="search__input" id="sFilter" type="text" role="combobox" aria-autocomplete="list" aria-expanded="false" aria-controls="searchDialog" autocomplete="off" aria-haspopup="dialog"> <svg aria-hidden="true" focusable="false" stroke="#000" stroke-width="9.8" viewBox="-19.6 -19.6 529.6 529.6" height="24" width="24"><path d="M484.1 454.8 373.6 344.2a210.6 210.6 0 1 0-29.2 29.2l110.5 110.5c12.9 11.8 25 4.2 29.2 0a20 20 0 0 0 0-29.1zm-443-244a169.5 169.5 0 1 1 339 0 169.5 169.5 0 0 1-339 0z"/></svg></div><div class="search__panel" id="searchDialog" role="dialog" aria-labelledby="sFilterLbl"><div class="search__info flex--middle"><span class="search__info--icon"></span><span class="search__info--text" aria-hidden="true"></span></div><ul class="search__list"></ul><div id="sMsg" aria-live="polite" class="visually-hidden"></div></div></search></header><main class="main"><h1 id="h1" class="main__title btm__gutter--largest" tabindex="-1">Modal vs non-modal dialogs</h1><div style="display: none;"><svg id="cTip" aria-hidden="true" focusable="false" width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path fill="var(--v2--color-black)" d="M1 11h3v2H1v-2m9 11c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-1h-4v1m3-21h-2v3h2V1M4.9 3.5 3.5 4.9 5.6 7 7 5.6 4.9 3.5M20 11v2h3v-2h-3m-.9-7.5L17 5.6 18.4 7l2.1-2.1-1.4-1.4M18 12a6 6 0 0 1-3 5.2V19c0 .6-.4 1-1 1h-4c-.6 0-1-.4-1-1v-1.8A6 6 0 0 1 12 6a6 6 0 0 1 6 6M8 12l.1 1H16l.1-1a4 4 0 1 0-8 0Z"/></svg> <svg id="cInfo" aria-hidden="true" focusable="false" width="24" height="24"><path fill="var(--v2--color-black)" d="M13.5 4A1.5 1.5 0 0 0 12 5.5 1.5 1.5 0 0 0 13.5 7 1.5 1.5 0 0 0 15 5.5 1.5 1.5 0 0 0 13.5 4m-.4 4.8c-1.2 0-4.4 2.7-4.4 2.7-.2.1-.1.1 0 .4.2.3.2.3.4.1.2 0 .5-.3 1-.6 2.2-1.4.4 1.7-.5 7-.4 2.7 2 1.3 2.6.9l2.3-1.6c.3-.2.1-.3 0-.5-.2-.2-.3 0-.3 0-.7.4-1.8 1.3-2 .7-.2-.6 1-4.5 1.7-7.2.1-.6.4-2-.8-2Z"/></svg> <svg id="cWarn" aria-hidden="true" focusable="false" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 36 36"><path d="M18 0C8.059 0 0 8.059 0 18s8.059 18 18 18 18-8.059 18-18S27.941 0 18 0Zm0 29.488c-1.406 0-2.371-1.082-2.371-2.488 0-1.445 1.004-2.488 2.371-2.488 1.445 0 2.371 1.043 2.371 2.488 0 1.406-.926 2.488-2.371 2.488Zm.934-9.508c-.36 1.223-1.489 1.247-1.864 0-.433-1.433-1.976-6.875-1.976-10.41 0-4.668 5.836-4.687 5.836 0 0 3.555-1.625 9.14-1.996 10.41Zm0 0"/></svg></div><div class="guide__info-panel"><div class="guide__author"><strong>By: </strong><a href="/authors/dlee">Darren Lee</a></div><div class="guide__date"><strong>Posted: </strong><time datetime="2024-04-29T00:00:00.000Z">Apr 29, 2024</time></div><strong class="guide__label">Tagged with:</strong><ul class="tags tags__all"><li class="tag__item"><a href="/tags/component/" class="tag__link">Component</a></li><li class="tag__item"><a href="/tags/html/" class="tag__link">HTML</a></li><li class="tag__item"><a href="/tags/javascript/" class="tag__link">JavaScript</a></li></ul></div><nav class="toc__nav" aria-labelledby="acc-1"><h2 id="acc-1" class="accordion accordion--full" data-no-accent>Table of contents</h2><div class="accordion__panel accordion__panel--full"><div><ol><li><a href="#intro">Intro</a></li><li><a href="#modal-vs-non-modal">Modal vs Non-modal</a></li><li><a href="#examples-of-non-modal-dialogs">Examples of Non-modal dialogs</a></li><li><a href="#examples-of-modal-dialogs">Examples of modal dialogs</a></li><li><a href="#revisiting-non-modal-dialogs">Revisiting non-modal dialogs</a></li><li><a href="#codepen-examples">CodePen examples</a></li><li><a href="#wrapping-up">Wrapping up</a></li><li><a href="#further-reading">Further reading</a></li></ol></div></div></nav><article class="cms"><div class="cms__anchor-wrapper"><h2 id="intro" tabindex="-1">Intro</h2><a class="cms__anchor flex--middle" href="#intro" aria-labelledby="intro"><svg focusable="false" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" height="32" width="32" viewBox="4 14 40 20"><path d="M22.5 34H14q-4.2 0-7-3t-3-7q0-4.2 3-7t7-3h8.5v3H14q-2.9 0-5 2-2 2.1-2 5t2 5q2.1 2 5 2h8.5Zm-6.3-8.5v-3h15.6v3Zm9.3 8.5v-3H34q2.9 0 5-2 2-2.1 2-5t-2-5q-2.1-2-5-2h-8.5v-3H34q4.2 0 7 3t3 7q0 4.2-3 7t-7 3Z"></path></svg></a></div><p>We often encounter dialogs that are used incorrectly or there appears some confusion about how to implement one correctly, this may be in part due to some misunderstandings around modal and non-modal dialogs. We'll explore some differences between the two types, especially around their behaviour and what effects, if any, they have on a user's current flow within the application.</p><div class="cms__anchor-wrapper"><h2 id="modal-vs-non-modal" tabindex="-1">Modal vs Non-modal</h2><a class="cms__anchor flex--middle" href="#modal-vs-non-modal" aria-labelledby="modal-vs-non-modal"><svg focusable="false" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" height="32" width="32" viewBox="4 14 40 20"><path d="M22.5 34H14q-4.2 0-7-3t-3-7q0-4.2 3-7t7-3h8.5v3H14q-2.9 0-5 2-2 2.1-2 5t2 5q2.1 2 5 2h8.5Zm-6.3-8.5v-3h15.6v3Zm9.3 8.5v-3H34q2.9 0 5-2 2-2.1 2-5t-2-5q-2.1-2-5-2h-8.5v-3H34q4.2 0 7 3t3 7q0 4.2-3 7t-7 3Z"></path></svg></a></div><p>It's perhaps useful to understand &quot;Modal&quot; to be a state, as in this new floaty thing that has appeared on top of the page is a new context and at this moment in time, it is the only context available to the user. The page underneath is temporarily irrelevant until a user completes the action in the new context or dismisses it in some other way. The state here is the dialog has made the page below inactive.</p><p>A Modal dialog would of course be a dialog that blocks out the underlying page and a Non-modal dialog would still allow page interaction.</p><p>Sometimes the word &quot;Modal&quot; is used interchangeably with &quot;Dialog&quot;, to mean either Modal or Non-modal, which is an incorrect usage of the word and perhaps some of the confusion stems from this misunderstanding? It's quite common to hear or read this, personally I often understand what the person actually means when they say &quot;We need a modal for this&quot;, but that's only when I have some additional context and that combined with me knowing the differences usually helps me to figure out what they actually meant. I guess that's a bit like when someone says &quot;Can that be a header 2?&quot;, Me: &quot;No, it cannot, it can be a heading 2 though&quot;, I jest, I am not that pedantic, I'd know what they meant and just do what they meant.</p><div class="cms__anchor-wrapper"><h2 id="examples-of-non-modal-dialogs" tabindex="-1">Examples of Non-modal dialogs</h2><a class="cms__anchor flex--middle" href="#examples-of-non-modal-dialogs" aria-labelledby="examples-of-non-modal-dialogs"><svg focusable="false" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" height="32" width="32" viewBox="4 14 40 20"><path d="M22.5 34H14q-4.2 0-7-3t-3-7q0-4.2 3-7t7-3h8.5v3H14q-2.9 0-5 2-2 2.1-2 5t2 5q2.1 2 5 2h8.5Zm-6.3-8.5v-3h15.6v3Zm9.3 8.5v-3H34q2.9 0 5-2 2-2.1 2-5t-2-5q-2.1-2-5-2h-8.5v-3H34q4.2 0 7 3t3 7q0 4.2-3 7t-7 3Z"></path></svg></a></div><p>As Non-modal does not block interaction with the full page, they can be understood to be optional or non-critical. Sometimes they may be some form of temporary alert, sometimes they may be part of another component, such as a search filter or chat widget, in any case, the underlying page should not be inactive, it should not be dimmed and scrolling of the page should not be locked.</p><p>The reason why we should not dim the page below is because it is <strong>not</strong> inactive, therefore, we'd cause confusion, create barriers and generally make things more difficult for our users, which we definitely don't want. If you have to convince some stakeholders you should not dim the page below, then sometimes we have to bring out the non-compliance guns. If the non-modal dialog dims the screen, then as the page below is not technically &quot;inert&quot; or inactive, then that blur effect or dimming will likely cause multiple elements to fail colour contrast criteria.</p><p>If somebody wants the screen dimmed and there's a valid use case for it, what they likely want is a modal dialog.</p><h3>A date picker</h3><p>A Date Picker is a prime example of where a Non-modal dialog is typically used, a user would activate the date picker by focusing on the input or clicking a button and often a calendar will appear underneath, to enable a user to select a date or dates. That calendar (if coded correctly would be a dialog and it would often be non-modal). There are of course some uses where a full screen Modal dialog would make perfect sense, say if a user needs to add several dates or these dates affect the options available on another form control, think availability. Generally though, for the standard Date Picker the calendar would be contained in a non-modal dialog.</p><p><a href="https://www.w3.org/WAI/ARIA/apg/patterns/combobox/examples/combobox-datepicker/">An example of a Date Picker, using the aforementioned combobox pattern can be found on the ARIA Authoring Practices page</a></p><h3>A combobox, search filter</h3><p>Similar to the Date Picker, this pattern would typically be an input that then displays a dialog containing suggestions or matches that filter the results, based upon the user's input. Again this would be non-modal, as there is no use in blocking interaction with the underlying page.</p><p><a href="https://www.w3.org/WAI/ARIA/apg/patterns/combobox/examples/combobox-autocomplete-list/">An example of a combobox filter can be found on the ARIA Authoring Practices page.</a></p><h3>A timeout alert</h3><p>Depending on implementation, an inactivity warning may appear as a dialog in a system, this may be for security purposes as the system has detected a period of inactivity. These particular alerts can of course be presented in multiple ways, one of which could be a simple alert. Visually it may appear above the page, it may not hijack a user's keyboard focus, but it may say something like &quot;You will be logged out in 2 minutes, press any key to stay logged in&quot;. This pattern would not require a new context, as the user would not need to be forced into the dialog to press a key.</p><h3>Overview of Non-modal dialogs</h3><p>We have provided just three examples above, there are of course many other valid use cases, but in essence they are often localised, non-critical or optional containers that do not obscure the whole page and they do not make it dimmed or inactive.</p><p>It's an important distinction that a keyboard user can and should be able to continue without dismissing or completing an action within, just like a mouse user can and should be able to.</p><div class="cms__anchor-wrapper"><h2 id="examples-of-modal-dialogs" tabindex="-1">Examples of modal dialogs</h2><a class="cms__anchor flex--middle" href="#examples-of-modal-dialogs" aria-labelledby="examples-of-modal-dialogs"><svg focusable="false" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" height="32" width="32" viewBox="4 14 40 20"><path d="M22.5 34H14q-4.2 0-7-3t-3-7q0-4.2 3-7t7-3h8.5v3H14q-2.9 0-5 2-2 2.1-2 5t2 5q2.1 2 5 2h8.5Zm-6.3-8.5v-3h15.6v3Zm9.3 8.5v-3H34q2.9 0 5-2 2-2.1 2-5t-2-5q-2.1-2-5-2h-8.5v-3H34q4.2 0 7 3t3 7q0 4.2-3 7t-7 3Z"></path></svg></a></div><p>Typically a modal dialog will consist of two primary parts (depending on implementation), the actual dialog itself and the backdrop. The backdrop would usually dim or visually subdue the underlying page, be this with a blur effect or a background colour with lower opacity etc. Visually, this communicates to sighted users something along the lines of &quot;Hey, this is the new page context, we're just grabbing your attention, you need to do something in here and the stuff underneath is temporarily unavailable until you do&quot;.</p><h3>Cookies dialogs</h3><p>Love um or hate um (I hate um), cookies confirmation/acceptance widgets don't appear to be going anywhere soon. Sometimes I ignore them, especially if they do not block too much of the page below, but sometimes, they are presented as a modal dialog. When presented as a modal they typically prevent us from accessing the page at all, until we give permission for them to snoop on us, target us with ads or uncheck a gazillion pre-checked checkboxes that give them &quot;Legitimate interest&quot; to snoop on us, who actually decides what parts of our privacy is legitimate, surely that should be us?</p><p>Let us assume we have a site that loads a cookies modal on our first visit, this modal overlays the page, rendering it &quot;inactive&quot; until we either &quot;Accept&quot; or &quot;Deny&quot; cookies. This is an example of something that is critical, they don't want us being on the fence about cookies, they need to know whether we're cool with them or not, they have a site with something we're likely interested in and the price of entry is accepting or denying cookies, everything is unavailable until we choose one of those options. Once we have chosen an option, the page would then be ready to read or interact with (after we have dismissed several other dialogs, to accept notifications, sign up to the newsletter, install the progressive web app, let them know our geographical location and let them know what colour socks we are wearing).</p><p>There are of course other less annoying and intrusive ways to implement cookies widgets, but I don't think the message has filtered through to the cookie devs just yet or their bosses prefer the shady practices and won't let them make it just as easy to dismiss, as it is to accept.</p><h3>An image gallery</h3><p>Sometimes these may be referred to as a &quot;light box&quot; gallery, typically a user would select one image and be presented with that image and a bunch of controls in a larger view that covers the underlying page, so the user can view or access that image and its sibling images. These images would usually be part of a collection of some sort, say property photos, a graduation photoshoot or anything else. Upon opening these gallery widgets the underlying page is usually completely &quot;invisible&quot; or barely visible at all. The user's focus is drawn to the gallery.</p><p>Again, as this completely blocks the underlying page, this is a good example of a modal dialog, the user is in the gallery, if they want out, they can dismiss it and the page below is not available to them until they do dismiss it.</p><h3>A re-authentication dialog</h3><p>If a session time out ended as we were busy with something else, but we had not finished the current task some applications may present a dialog that asks for the user's password and ID again, before they can continue doing what they were doing in a secure area of the site. These are definitely modal dialogs, as to log in, we must interact with them and everything below should be inactive, although sometimes we would be redirected to another page first, but hopefully you know what I mean?</p><h3>Overview of Modal dialogs</h3><p>Again, we could have continued on with many different examples, but I'm desperately trying to not waffle so much in my articles (I've probably failed already). I guess an easy way of thinking about a modal dialog is a floating page upon a page, that page does not have to be the same size, it can be much smaller, but crucially, it just means do something on this new floating page to get back to the page below.</p><p>There are quite a few critical considerations for a modal dialog that are not required for their non-modal cousins:</p><ul><li>Dismissible: There should be a way to either hard dismiss or light dismiss the dialog, depending on context, light dismiss would allow a user to hit <kbd>Esc</kbd> or click or touch outside (usually on the backdrop) to dismiss the dialog, hard dismiss would be clicking the Close button or otherwise completing a critical action. Some dialogs may have both, it just depends on how critical the modal is to the current flow, if it's not super critical, then both would be useful to users</li><li>Advance focus to the dialog. If we're making the page below inactive, then obviously we don't want our keyboard users to be left deserted in no-man's land, so we move focus to an appropriate place within the dialog and if we have been good eggs, all the accessibility information a user needs will be announced to them or they will see where focus is</li><li>Renders the underlying page inactive: Visually we could use some form of blur or dimming effect on the backdrop, but there are additional considerations, such as blocking scrolling of the page below, preventing keyboard users from &quot;tabbing out&quot; of the modal, preventing screen reader users from using their virtual cursor to escape the modal</li><li>Returns focus to the point of origin (the invoking element) or the next logical place when it is dismissed. The trigger may be a button several screens down the page, a keyboard user does not want to have to wade through all of that content again to get back to where they were, they need to have their focus returned to its original position. There are of course some use cases where that element is no longer available, perhaps deleting an item in a shopping cart modal, in which case focus should be sent to the previous element (if there is one), or the next logical place. <a href="https://adrianroselli.com/2023/08/where-to-put-focus-when-deleting-a-thing.html">Adrian Roselli has a short article on this, which as always, explains the process exceptionally well</a>.</li></ul><h3>Why trap a user inside a modal?</h3><p>Well, why not? The page is &quot;visually&quot; unavailable, clicking on a control outside of the dialog will not action that control (it may close the dialog), so it needs to be unavailable to keyboard users, too. There are several ways to achieve this, we'll go over them shortly, first we'll look at a few considerations as to why we should trap focus:</p><ul><li>Let's just say we have a sighted keyboard user, who tabs out of our dialog, let's say it's a rather large dialog, the backdrop has low opacity and there's content and links underneath the dialog. How would the user see where their focus was when they focus on the link?</li><li>What about if we have been good sports and prevented the underlying page from scrolling, how are they going to see their focus when it's below the locked portion of the viewport?</li><li>What if a screen reader user gets out of the dialog with their virtual cursor, only they are a sighted or partially sighted screen reader user and now they cannot visually track where their focus or cursor is?</li><li>What if when the dialog is open, it manipulates the underlying page, perhaps some functionality becomes disabled or hidden from the accessibility tree, that'd be a lot of confusing silence for a blind screen reader user.</li></ul><p>Undoubtedly, there are more issues that could affect our users, but essentially, if the page is unavailable to pointing device users, then it must be unavailable to users of non-pointing devices.</p><h3>OK, how do we trap focus</h3><p>As I said before, there are several ways to achieve this, we'll take a look at them and discuss the benefits:</p><h4>The old way</h4><p>Let's just assume we have a decent site structure, like so:</p><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>header</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nav</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nav</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>header</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>modalTrigger<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Open me!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>footer</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>footer</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dialog<span class="token punctuation">"</span></span> <span class="token attr-name">aria-modal</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token attr-name">aria-labelledby</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dialogHeading<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dialogHeading<span class="token punctuation">"</span></span> <span class="token attr-name">tabindex</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>-1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>I'm open!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>close<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Close me!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre><p>Note: in the above, I would be sending programmatic focus to the heading, you can also send it to the close button or the first interactive element in the dialog if it makes sense but ensure a user won't miss any information, I personally wouldn't send focus to the Close button in this example, as it comes after the content, but it's perfectly acceptable to have two closes buttons, one at the top and one at the bottom.</p><p>I'm not going to code the JavaScript for this, as there are better ways in 2024, so there's little benefit in me typing it all out.</p><p>Essentially, what we would need to do is is add <code>aria-hidden=&quot;true&quot;</code> to each landmark, to ensure it and its descendants are hidden from the accessibility tree. <a href="https://a11ysupport.io/tech/aria/aria-modal_attribute">aria-modal=&quot;true&quot; does do that for the majority of browsers, but not all</a>. Then, we would need to trap focus inside the dialog, by getting the first and last actionable elements and listening for the correct keypresses. If a user was focuses on the last element and presses <kbd>Tab</kbd> then we would <code>focus()</code> on the first actionable element. Conversely, if a user presses <kbd>Shift</kbd> and <kbd>Tab</kbd> whilst focused on the first actionable element, we could then move <code>focus()</code> to the last actionable element, so in essence, our user's focus is trapped, as we are forcing their focus to cycle through the dialog. This approach requires our users to either complete the action required or close the dialog and reactivate the underlying page.</p><p>There is one caveat with the above, it prevents a user from tabbing back up into their browser's UI, so they cannot get into the address bar etc, until they close the dialog. The alternative would have been to walk the DOM, essentially loop through all descendants of the <code>&lt;body&gt;</code> element, except the dialog and then search for every single element that can receive focus (including custom widgets with <code>tabindex=&quot;0&quot;</code>) and add <code>tabindex=&quot;-1&quot;</code>, obviously we'd need to make them focusable again when the dialog closed, along with removing <code>aria-hidden</code> from the landmarks etc.</p><h4>A better way</h4><p>In recent times we have been treated with some useful new features, one of which was the <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/inert">inert property for HTML</a>. The <code>inert</code> attribute has been kicking around since 2022, but it wasn't supported in <a href="https://caniuse.com/?search=inert">Firefox until mid 2023</a> and back in 2022 we typically still supported IE, so we had to use a polyfill to get this to work properly.</p><p>Essentially, what <code>inert</code> does is it not only removes the node it is applied to, along with all its descendants from the accessibility tree, but it also prevents any elements or descendants receiving focus. So in essence, we are killing two birds with one stone, neat, huh?</p><p>Let's just use the HTML example I provided in the previous method and knock out a quick bit of JavaScript to show how we could do that:</p><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> landmarks <span class="token operator">=</span> <span class="token punctuation">[</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'header'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'main'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'footer'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> trigger <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'modalTrigger'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> dialog <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'[role="dialog"]'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> closeBtn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'close'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>trigger<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'data-modal-open'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  landmarks<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">lm</span> <span class="token operator">=></span> lm<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'inert'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  dialog<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#dialogHeading'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><br><br>closeBtn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span><span class="token function">removeAttribute</span><span class="token punctuation">(</span><span class="token string">'data-modal-open'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  landmarks<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">lm</span> <span class="token operator">=></span> lm<span class="token punctuation">.</span><span class="token function">removeAttribute</span><span class="token punctuation">(</span><span class="token string">'inert'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  trigger<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>Obviously the above is not production-ready, it's just the most basic way of demonstrating the functionality, that I can think of, so what we are doing is:</p><ul><li><p>Save our landmarks into an array</p></li><li><p>Get a reference to the button that opens the dialog</p></li><li><p>Get a reference to the dialog itself</p></li><li><p>Get a reference to the close button</p></li><li><p>Add an <code>addEventListener()</code> to the button, listening for clicks and then</p><ul><li>Add <code>data-modal-open</code> to the <code>&lt;html&gt;</code> element</li><li>Loop through our landmarks array and add the <code>inert</code> attribute to each item</li><li>Finally, <code>focus()</code> on the dialog's heading</li></ul></li><li><p>I've added a close function, by listening to a click, on the Close button, when that is actioned, we simply remove the <code>data-modal-open</code> attribute from the <code>&lt;html&gt;</code> element, remove the inert property from our landmarks and finally set <code>focus()</code> on the initial trigger. I've just added this so you can check the DOM for opening and closing etc, I've not implemented light dismiss or anything</p></li></ul><p>Then, assuming in our super basic example we have some CSS like so:</p><pre class="language-css"><code class="language-css"><span class="token selector">html[data-modal-open] [role="dialog"]</span> <span class="token punctuation">{</span><br>  <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token selector">html:not([data-modal-open]) [role="dialog"]</span> <span class="token punctuation">{</span><br>  <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre><p>We would then be accessibly hiding the dialog when closed and showing it when open. That's pretty straightforward, right? With useful attributes like <code>inert</code>, it's often difficult to understand how so many devs get dialogs wrong. Granted, this attribute won't work on older browsers, <a href="https://github.com/GoogleChrome/inert-polyfill">but there is this polyfill</a>, which could be used only when necessary. Another consideration is of course site structure, I obviously created the optimal site structure for my demo, but in reality, that dialog could be nested deeply within a landmark, there could be other landmarks, there may not be any landmarks at all and somebody is having to fish this dialog out of div soup. So there may be some DOM walking required, but this is just a basic example.</p><h4>But wait, there's more</h4><p>We have just one more way to discuss and this one is my new favourite, it's actually the easiest to implement too. Drum roll, introducing the <code>&lt;dialog&gt;</code> element, a native dialog brought to you by the good folks at W3C. Many of us will already be aware of this element and perhaps followed its progress for a while, at first it was a bit broken and not fully supported, but like the good soldiers they are, the teams involved in this all got it over the line, It's actually been usable for a while now. There are some little quirks and obviously older browsers won't support it, <a href="https://www.scottohara.me/blog/2023/01/26/use-the-dialog-element.html">but you should really have a read of this post from Scott O'Hara, who goes over any remaining quirks</a>.</p><p>It's always nice to have a native HTML element that can do much of the heavy lifting for us, so we can keep our JavaScript file size down and have less to debug if and when something breaks. We still need some JavaScript for the <code>&lt;dialog&gt;</code> element, but that's mostly to open and close it.</p><p>Before we build a little demo it's important to remember the distinction between modal and non-modal dialogs, as the opening method is a little different for each. If our <code>&lt;dialog&gt;</code> is non-modal, we use the <code>show()</code> method in our <code>addEventListener()</code> to open it, as the browser understands this to be a non-modal dialog, it won't trap focus etc, which is of course intentional. If we use the <code>showModal()</code> method, we get focus trapping and focus management for free, all we need really is an <code>addEventListener()</code>, so let's rustle something up.</p><p>We need to modify our HTML for this, mostly swapping out the <code>&lt;div&gt;</code> for a <code>&lt;dialog&gt;</code> element, but also removing some redundant attributes. The accessible name does not appear to be required for the native HTML <code>&lt;dialog&gt;</code>, I'm just gonna keep it in, as your user doesn't care how you built it, just that it works and if <code>role=&quot;dialog&quot;</code> requires an accessible name, then I'm not sure why this wouldn't, although the HTML spec and the ARIA spec aren't the same, so in this case I guess valid HTML perhaps doesn't map to valid ARIA, either way, I'm putting it in as it makes sense to do that.</p><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>header</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nav</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nav</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>header</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>modalTrigger<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Open me!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>footer</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>footer</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dialog</span> <span class="token attr-name">aria-labelledby</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dialogHeading<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">autofocus</span> <span class="token attr-name">tabindex</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>-1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>I'm open!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>close<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Close Me!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dialog</span><span class="token punctuation">></span></span></code></pre><p>Notice I have added <code>autofocus</code> and <code>tabindex=&quot;-1&quot;</code> to the heading, my train of thought is the following:</p><p>Sending focus to the <code>&lt;dialog&gt;</code> can be a tad noisy and potentially annoying for folk, as depending on how much content is in it, a screen reader will proceed to read it all out. I will concede here, I haven't actually tested that with users, but I have read comments from screen reader users who have stated &quot;don't send focus to the dialog&quot;. Based upon just a few folks stating that, I'm rolling with it, as they were screen reader users and they know what works best for them</p><p>As the <code>&lt;dialog&gt;</code> is pretty smart, it actually decides where to place focus for you, if you read Scott's article that I linked earlier, this was one of the last things to be resolved, before he wrote the article. If I do not manage <code>autofocus</code>, then focus will be sent to the first actionable element, which is the close button. As I have only one close button and it comes after the content, that perhaps does not make sense, as a user would have to go reversing up the dialog to get to the beginning. In my example which only contains two elements, this would not be the end of the world, but what if we had lots of text? What if the first interactive element was actually the Agree button and all the text above was a nefarious document that agreed to surrender your house, savings and favourite slippers to the company, in a legally-binding way? I exaggerate a bit, but accessing information sequentially is usually the best way to go, if it's something like agreeing to terms and conditions, if a screen reader user does not want to listen to all that drivel, as much as I don't wanna read it, they'll do what I do and just accept (silly me). If they do accept, it wouldn't be because we coded the dialog in a way that made the content easy to miss, it would be their choice to accept without consuming the information. You could of course add a close icon button at the top, too and then focus would automagically be sent to that.</p><p>Very little JavaScript here, which is nice:</p><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> trigger <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'modalTrigger'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> dialog <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'dialog'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> closeBtn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'close'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>trigger<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  dialog<span class="token punctuation">.</span><span class="token function">showModal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span>  <br><br>closeBtn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  dialog<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><ul><li>We keep most of our variables which reference the bits we need, with the exception. of the landmarks array, we don't need that now</li><li>We strip down the contents of the <code>addEventListener()</code> for the <code>trigger</code> button, we just need the one magic method <code>.showModal()</code></li><li>We strip out the contents of the <code>addEventListener()</code> for the <code>close</code> button, we just want the <code>.close()</code> method</li></ul><p>In its most basic form, that is it. Of course, we may want to add light dismiss for clicking outside on the <code>::backdrop</code>, another nice freebie we get with the <code>&lt;dialog&gt;</code> is we already have dismiss on <kbd>Esc</kbd> press, which we also got for free. Perhaps there are cases where we may want to remove that functionality, if it were say a re-authentication dialog where an action is required, we could use the <code>preventDefault()</code> method on the <code>keydown</code> event for <kbd>Esc</kbd>, but we should only prevent that behaviour when a user absolutely must do something in the actual dialog.</p><p>We also get quite a bit of CSS for free from the browser's internal stylesheets, our dialog is conveniently positioned centrally on the screen for us and it will appear on the very top layer., not only that, it &quot;shows&quot; and &quot;hides&quot; too, albeit, with no transition etc.</p><p>Just like the <code>inert</code> attribute, this is relatively new-ish, so older browsers won't get all of the goodness that comes for free, I haven't tested on older browsers, I guess anything that predates Scott's article will degrade in functionality and the further back you go, the closer you are to the point where it simply does nothing at all. But, we can of course find a way of detecting features and what now and provide an alternative when <code>&lt;dialog&gt;</code> is unsupported.</p><div class="cms__anchor-wrapper"><h2 id="revisiting-non-modal-dialogs" tabindex="-1">Revisiting non-modal dialogs</h2><a class="cms__anchor flex--middle" href="#revisiting-non-modal-dialogs" aria-labelledby="revisiting-non-modal-dialogs"><svg focusable="false" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" height="32" width="32" viewBox="4 14 40 20"><path d="M22.5 34H14q-4.2 0-7-3t-3-7q0-4.2 3-7t7-3h8.5v3H14q-2.9 0-5 2-2 2.1-2 5t2 5q2.1 2 5 2h8.5Zm-6.3-8.5v-3h15.6v3Zm9.3 8.5v-3H34q2.9 0 5-2 2-2.1 2-5t-2-5q-2.1-2-5-2h-8.5v-3H34q4.2 0 7 3t3 7q0 4.2-3 7t-7 3Z"></path></svg></a></div><p>As I stated earlier, we can also use the <code>&lt;dialog&gt;</code> element on non-modal dialogs, we just need to use the <code>.show()</code> method, as opposed to <code>.showModal()</code>. I've not really had much of a play with the non-modal variant until now and I've discovered some behaviours I was not aware of:</p><ul><li>It cannot be dismissed with <kbd>Esc</kbd>, so if that functionality were necessary for a non-modal dialog, it would have to be scripted manually</li><li>The non-dialog variant is centred horizontally, but not vertically using the browser's default styles, it would likely be required to position this manually in most cases, but I guess this would be pretty much impossible for the browser to guess correctly</li></ul><div class="cms__anchor-wrapper"><h2 id="codepen-examples" tabindex="-1">CodePen examples</h2><a class="cms__anchor flex--middle" href="#codepen-examples" aria-labelledby="codepen-examples"><svg focusable="false" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" height="32" width="32" viewBox="4 14 40 20"><path d="M22.5 34H14q-4.2 0-7-3t-3-7q0-4.2 3-7t7-3h8.5v3H14q-2.9 0-5 2-2 2.1-2 5t2 5q2.1 2 5 2h8.5Zm-6.3-8.5v-3h15.6v3Zm9.3 8.5v-3H34q2.9 0 5-2 2-2.1 2-5t-2-5q-2.1-2-5-2h-8.5v-3H34q4.2 0 7 3t3 7q0 4.2-3 7t-7 3Z"></path></svg></a></div><p>I've used pretty much the same code as above, but I had to use unique IDs and what not, so some references change, but the logic is the same.</p><p class="codepen" data-height="300" data-default-tab="js,result" data-slug-hash="oNOrjXz" data-preview="true" data-user="LDAWG-a11y" style="height: 300px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;"><span>See the Pen <a href="https://codepen.io/LDAWG-a11y/pen/oNOrjXz">Modal vs non-modal dialogs</a> by LDAWG-a11y (<a href="https://codepen.io/LDAWG-a11y">@LDAWG-a11y</a>) on <a href="https://codepen.io">CodePen</a>.</span></p><script async src="https://cpwebassets.codepen.io/assets/embed/ei.js"></script><div class="cms__anchor-wrapper"><h2 id="wrapping-up" tabindex="-1">Wrapping up</h2><a class="cms__anchor flex--middle" href="#wrapping-up" aria-labelledby="wrapping-up"><svg focusable="false" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" height="32" width="32" viewBox="4 14 40 20"><path d="M22.5 34H14q-4.2 0-7-3t-3-7q0-4.2 3-7t7-3h8.5v3H14q-2.9 0-5 2-2 2.1-2 5t2 5q2.1 2 5 2h8.5Zm-6.3-8.5v-3h15.6v3Zm9.3 8.5v-3H34q2.9 0 5-2 2-2.1 2-5t-2-5q-2.1-2-5-2h-8.5v-3H34q4.2 0 7 3t3 7q0 4.2-3 7t-7 3Z"></path></svg></a></div><p>Sure, there are likely situations where it is not super clear whether the dialog you want is modal or non-modal, but some things that should feature in your decision should be:</p><ul><li>Does it dim the rest of the screen?</li><li>Does it require a user to agree to or confirm something, or some other critical action?</li><li>Does it cover most of the page?</li><li>If it doesn't cover most of the page, is the page below inactive whilst the dialog is open?</li></ul><p>Those above would usually result in a modal dialog.</p><figure><p><picture><source type="image/webp" srcset="/guideImg/bZJgyombGQ-300.webp 300w, /guideImg/bZJgyombGQ-450.webp 450w, /guideImg/bZJgyombGQ-600.webp 600w" sizes="100vw"><source type="image/png" srcset="/guideImg/bZJgyombGQ-300.png 300w, /guideImg/bZJgyombGQ-450.png 450w, /guideImg/bZJgyombGQ-600.png 600w" sizes="100vw"><img class="guide__image" decoding="async" loading="lazy" alt="George being a good sport and recreating a meme with an image of himself. The meme is of a book cover, which originally had the title Identifying Wood and a bearded chap who looked very serious was holding a piece of wood and looking at it very closely through some small magnifying glass or microscope. George recreated this image by adorning a similar shirt and tie to the serios chap and replace the title with Identifying Modals. George also wore a pair of specs, similar to the other chap and held a magnifying glass closely to what appears to be a plastic icosahedron, this was likely 3D printed by George. The caption It's a modal has also been added. The aim of the meme is to indicate somebody is examining something very closely, in order to determine what others would have already correctly assumed the object to be. I have to say, I do not know whay George selected a 3D geometric shape, but it's still funny." src="/guideImg/bZJgyombGQ-300.png" width="600" height="800"></picture></p><figcaption><a href="https://knowyourmeme.com/memes/identifying-wood">The meaning of the above meme starring George, can be accessed here</a></figcaption></figure><p>If the dialog belongs to an input or it is something that does not require a user's immediate attention and they can still interact with the underlying page, then this sounds like a non-modal dialog.</p><p>My examples are super basic, I didn't add click outside to close and I never added a dialog wrapper for the ARIA example, I just blurred the rest of the page, because I was being a bit lazy.</p><p>I guess the message here is, if you are struggling with how to implement a modal dialog correctly and you do not need to support any browsers over a year old, then maybe the <code>&lt;dialog&gt;</code> element can help you out. It handles so much out-of-the-box for us, we basically just need event handlers and styles. If you can't use the <code>&lt;dialog&gt;</code>, then use <code>inert</code> and manage focus for opening and closing. I've provided further reading resources below.</p><div class="cms__anchor-wrapper"><h2 id="further-reading" tabindex="-1">Further reading</h2><a class="cms__anchor flex--middle" href="#further-reading" aria-labelledby="further-reading"><svg focusable="false" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" height="32" width="32" viewBox="4 14 40 20"><path d="M22.5 34H14q-4.2 0-7-3t-3-7q0-4.2 3-7t7-3h8.5v3H14q-2.9 0-5 2-2 2.1-2 5t2 5q2.1 2 5 2h8.5Zm-6.3-8.5v-3h15.6v3Zm9.3 8.5v-3H34q2.9 0 5-2 2-2.1 2-5t-2-5q-2.1-2-5-2h-8.5v-3H34q4.2 0 7 3t3 7q0 4.2-3 7t-7 3Z"></path></svg></a></div><p>This is almost as basic as I could do for this, I haven't animated it, I haven't styled it, added light dismiss and generally I've just provided a barebones example.</p><ul><li>If you wish to make your dialog all shiny and fancy, then <a href="https://web.dev/articles/building/a-dialog-component">this guide from Adam Argylle is pretty awesome for overcoming any issues you may face</a>.</li><li><a href="https://html.spec.whatwg.org/multipage/interactive-elements.html#the-dialog-element">HTML Spec: the dialog element</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/dialog">MDN the dialog element</a></li><li><a href="https://caniuse.com/?search=dialog">CanIUse the dialog element</a></li></ul></article><div class="socials__container" role="group" aria-labelledby="shareTitle"><h2 class="socials__title" id="shareTitle" data-no-accent>Share on:</h2><a href="//twitter.com/intent/tweet?text=Modal%20vs%20non-modal%20dialogs&url=https://www.makethingsaccessible.com/guides/modal-vs-non-modal-dialogs/" class="socials__link flex--middle"><span class="visually-hidden">Twitter</span><svg focusable="false" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M22.46 6c-.77.35-1.6.58-2.46.69a4.3 4.3 0 0 0 1.88-2.38c-.83.5-1.75.85-2.72 1.05a4.28 4.28 0 0 0-7.32 3.91A12.2 12.2 0 0 1 3 4.79a4.24 4.24 0 0 0 1.33 5.71c-.71 0-1.37-.2-1.95-.5v.03a4.3 4.3 0 0 0 3.44 4.21 4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.52 8.52 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06A12.14 12.14 0 0 0 8.12 21C16 21 20.33 14.46 20.33 8.79l-.01-.56A8.57 8.57 0 0 0 22.46 6Z"/></svg></a><a href="https://www.linkedin.com/shareArticle?mini=true&url=https://www.makethingsaccessible.com/guides/modal-vs-non-modal-dialogs/&title=Modal%20vs%20non-modal%20dialogs" class="socials__link flex--middle"><span class="visually-hidden">LinkedIn</span><svg focusable="false" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M1 2.84A1.84 1.84 0 0 1 2.84 1h18.32A1.84 1.84 0 0 1 23 2.84v18.32A1.84 1.84 0 0 1 21.16 23H2.84A1.84 1.84 0 0 1 1 21.16V2.84Zm8.7 6.55h2.99v1.5c.43-.87 1.53-1.64 3.18-1.64 3.17 0 3.92 1.71 3.92 4.86v5.82h-3.2v-5.1c0-1.8-.44-2.8-1.53-2.8-1.51 0-2.14 1.08-2.14 2.8v5.1H9.7V9.39Zm-5.5 10.4h3.22V9.25H4.2v10.54ZM7.88 5.81a2.06 2.06 0 1 1-4.12 0 2.06 2.06 0 0 1 4.13 0Z" clip-rule="evenodd"/></svg></a></div><aside class="author-bio panel gutter-btm--major"><a class="skip-link--static" href="#guideStart">Skip bio</a><div class="author-bio--upper"><h2 class="author-bio__title">About Darren</h2></div><div class="author-bio--lower"><div class="author-bio__intro"><p>Darren is both a digital accessibility analyst and a frontend web developer who focuses on building accessible, performant and intuitive websites. Darren is the developer for this platform and he built it with an accessibility-first approach, applying all of his knowledge of accessible web interfaces through each stage of the project.</p></div><dl class="author-bio__meta"><div class="author-bio__items-wrapper"><dt class="author-bio__term">Position:</dt><dd class="author-bio__description">Digital Accessibility Analyst</dd></div><div class="author-bio__items-wrapper"><dt class="author-bio__term">Organisation:</dt><dd class="author-bio__description">University of Westminster</dd></div><div class="author-bio__items-wrapper"><dt class="author-bio__term"><svg focusable="false" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M22.46 6c-.77.35-1.6.58-2.46.69a4.3 4.3 0 0 0 1.88-2.38c-.83.5-1.75.85-2.72 1.05a4.28 4.28 0 0 0-7.32 3.91A12.2 12.2 0 0 1 3 4.79a4.24 4.24 0 0 0 1.33 5.71c-.71 0-1.37-.2-1.95-.5v.03a4.3 4.3 0 0 0 3.44 4.21 4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.52 8.52 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06A12.14 12.14 0 0 0 8.12 21C16 21 20.33 14.46 20.33 8.79l-.01-.56A8.57 8.57 0 0 0 22.46 6Z"/></svg><span class="visually-hidden">Twitter:</span></dt><dd class="author-bio__description"><a href="https://twitter.com/daz079" class="author-bio__link">@daz079</a></dd></div><div class="author-bio__items-wrapper"><dt class="author-bio__term"><svg focusable="false" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M1 2.84A1.84 1.84 0 0 1 2.84 1h18.32A1.84 1.84 0 0 1 23 2.84v18.32A1.84 1.84 0 0 1 21.16 23H2.84A1.84 1.84 0 0 1 1 21.16V2.84Zm8.7 6.55h2.99v1.5c.43-.87 1.53-1.64 3.18-1.64 3.17 0 3.92 1.71 3.92 4.86v5.82h-3.2v-5.1c0-1.8-.44-2.8-1.53-2.8-1.51 0-2.14 1.08-2.14 2.8v5.1H9.7V9.39Zm-5.5 10.4h3.22V9.25H4.2v10.54ZM7.88 5.81a2.06 2.06 0 1 1-4.12 0 2.06 2.06 0 0 1 4.13 0Z" clip-rule="evenodd"/></svg><span class="visually-hidden">LinkedIn:</span></dt><dd class="author-bio__description"><a href="https://www.linkedin.com/in/darren-lee-224334147" class="author-bio__link">/in/darren-lee-224334147</a></dd></div></dl></div></aside></main><footer class="footer"><div class="footer__contact-us"><h2 data-no-accent>Contact us</h2><div class="footer__contact"><svg focusable="false" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M22.46 6c-.77.35-1.6.58-2.46.69a4.3 4.3 0 0 0 1.88-2.38c-.83.5-1.75.85-2.72 1.05a4.28 4.28 0 0 0-7.32 3.91A12.2 12.2 0 0 1 3 4.79a4.24 4.24 0 0 0 1.33 5.71c-.71 0-1.37-.2-1.95-.5v.03a4.3 4.3 0 0 0 3.44 4.21 4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.52 8.52 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06A12.14 12.14 0 0 0 8.12 21C16 21 20.33 14.46 20.33 8.79l-.01-.56A8.57 8.57 0 0 0 22.46 6Z"/></svg> <a class="footer__link" href="https://twitter.com/MTAccessible?s=20&t=x69yq8wMBQ4y5j6byafhyw" class="">Find us on Twitter</a></div><div class="footer__contact"><svg focusable="false" aria-hidden="true" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="m20 8-8 5-8-5V6l8 5 8-5m0-2H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2Z"/></svg> <span class="visually-hidden">Email: </span><a class="footer__link" href="mailto:info@makethingsaccessible.com">info@makethingsaccessible.com</a></div></div><div class="footer__bottom"><div class="footer__help"><h2 data-no-accent>Need help?</h2><p class="footer__help-text">If you have trouble with accessing any part of our site or links, please let us know and one of our experienced team will identify and resolve the problem. If any part of the site does not work as intended with your assistive technology, please provide details of the browser, assistive technology you're using, and the URL wherever possible.</p></div><div class="footer__mta-links"><h2 id="footerLinks" data-no-accent>Make Things Accessible links</h2><ul class="footer__list"><li class="footer__list-item"><a class="footer__link" href="/">Home</a></li><li class="footer__list-item"><a class="footer__link" href="/about/">About</a></li><li class="footer__list-item"><a class="footer__link" href="/guides/">Guides</a></li><li class="footer__list-item"><a class="footer__link" href="/faqs/">FAQs</a></li><li class="footer__list-item"><a class="footer__link" href="/accessibility/">Accessibility</a></li><li class="footer__list-item"><a class="footer__link" href="/glossary/">Glossary</a></li><li class="footer__list-item"><a class="footer__link" href="/privacy/">Privacy Policy</a></li><li class="footer__list-item"><a class="footer__link" href="/sitemapNav/">Sitemap</a></li><li class="footer__list-item"><a class="footer__link" href="/codeOfConduct">Code of Conduct</a></li><li class="footer__list-item"><a class="footer__link" href="/contributing">Contributing</a></li><li class="footer__list-item"><a class="footer__link" href="/admin">Admin</a></li></ul></div><div class="footer__collabs"><h2 data-no-accent>RNIB</h2><ul class="footer__list--collabs"><li class="footer__list-item"><a class="footer__link" href="/rnib/accessibility-passport">Accessibility passport</a></li></ul><h2 data-no-accent>Access and Assistance for All</h2><ul class="footer__list--collabs"><li class="footer__list-item"><a class="footer__link" href="/aaa/">AAA Home</a></li><li class="footer__list-item"><a class="footer__link" href="/aaa/roles/">AAA Roles</a></li><li class="footer__list-item"><a class="footer__link" href="/aaa/student-stories/">AAA Student Stories</a></li><li class="footer__list-item"><a class="footer__link" href="/aaa/supporters/">AAA Supporters</a></li></ul></div><div class="footer__colophon"><p>&copy; 2024 Make Things Accessible (v2.0) - powered by <a class="footer__link colophon__link" href="https://www.netlify.com/">Netlify</a> & <a class="footer__link colophon__link" href="https://www.11ty.dev/">11ty</a></p></div></div></footer><script src="/js/search.js" type="module"></script><dialog class="dialog" id="settingsModal"><header class="dialog__header"><h1 class="dialog__title" tabindex="-1" autofocus>Site preferences</h1></header><div class="dialog__content"><p>Please feel free to display our site, your way by finding the preferences that work best for you. We do not track any data or preferences at all, should you select any options in the groups below, we store a small non-identifiable token to your browser's Local Storage, this is required for your preferencesto persist across pages accordion be present on repeat visits. You can remove those tokens if you wish, by simply selecting Unset, from each preference group.</p><h2 class="dialog__subtitle">Theming</h2><div class="panel"><fieldset class="settings__fieldset"><legend class="settings__legend">Theme</legend><div class="settings__btns-wrapper"><button class="settings__btn--theme-light btn btn--default" aria-pressed="false" data-pref="theme light">Light<span></span></button> <button class="settings__btn--theme-unset btn btn--default" aria-pressed="false" data-pref="theme unset">Unset<span></span></button> <button class="settings__btn--theme-dark btn btn--default" aria-pressed="false" data-pref="theme dark">Dark<span></span></button></div></fieldset></div><div class="panel"><fieldset class="settings__fieldset"><legend class="settings__legend">Code block theme</legend><h3 class="accordion">Code theme help</h3><div class="accordion__panel"><div><p>Code block themes can be changed independent of the site theme.</p><ul><li>Default: (Unset) Code blocks will have the same theme as the site theme.</li><li>Light 1: will be default for users viewing the light theme, this maintains the minimum 7:1 (WCAG Level AAA) contrast ratio we have used throughout the site, it can be quite difficult to identify the differences in colour between various syntax types, due to the similarities in colour at that contrast ratio</li><li>Light 2: drops the contrast for syntax highlighting down to WCAG Level AA standards (greater than 4.5:1)</li><li>Dark: Syntax highlighting has a minimum contrast of 7:1 and due to the dark background differences in colour may appear much more perceivable</li></ul></div></div><div class="settings__btns-wrapper"><button class="settings__btn--code-theme-dark btn btn--default" aria-pressed="false" data-pref="code-theme dark">Dark<span></span></button> <button class="settings__btn--code-theme-unset btn btn--default" aria-pressed="false" data-pref="code-theme unset">Unset<span></span></button> <button class="settings__btn--code-theme-light btn btn--default" aria-pressed="false" data-pref="code-theme light">Light 1<span></span></button> <button class="settings__btn--code-theme-lower btn btn--default" aria-pressed="false" data-pref="code-theme lower">Light 2<span></span></button></div></fieldset></div><h2 class="dialog__subtitle">Motion</h2><div class="panel"><fieldset class="settings__fieldset"><legend class="settings__legend">Motion & animation</legend><h3 class="accordion">Motion & animation help</h3><div class="accordion__panel"><div><ul><li>Default (Unset): Obeys device settings, if present. If no preference is set, there are subtle animations on this site which will be shown. If you have opted for reduce motion, smooth scrolling as well as expanding and collapsing animations will no longer be present, fading transtitions and micro animations will still be still present.</li><li>None: All animations and transitions are completely removed, including fade transitions.</li></ul></div></div><div class="settings__btns-wrapper"><button class="settings__btn--motion-unset btn btn--default" aria-pressed="false" data-pref="motion unset">Unset<span></span></button> <button class="settings__btn--motion-none btn btn--default" aria-pressed="false" data-pref="motion none">None<span></span></button></div></fieldset></div><h2 class="dialog__subtitle">Links</h2><div class="panel"><fieldset class="settings__fieldset"><legend class="settings__legend">Underline all links</legend><h3 class="accordion">Underline all links help</h3><div class="accordion__panel"><div><ul><li>Default (Unset): Most links are underlined, with a few exceptions such as: the top level links in the main navigation (on large screens), cards, tags and icon links.</li><li>Yes: Will add underlines to the exceptions outlined above, resulting in every link being underlined</li></ul></div></div><div class="settings__btns-wrapper"><button class="settings__btn--underline-unset btn btn--default" aria-pressed="false" data-pref="underline unset">Unset<span></span></button> <button class="settings__btn--underline-yes btn btn--default" aria-pressed="false" data-pref="underline yes">Yes<span></span></button></div></fieldset></div><h2 class="dialog__subtitle">Text and paragraphs</h2><div class="panel"><fieldset class="settings__fieldset"><legend class="settings__legend">Font size (main content)</legend><h3 class="accordion">Font size help</h3><div class="accordion__panel"><div><p>This setting does not apply to the site's header or footer regions</p><ul><li>Default (Unset): Font sizes are set to site defaults</li><li>Selecting Large or Largest will increase the font size of the main content, the size of the increase depends on various factors such as your display size and/or zoom level. The easiest way to determine which option suits you best would be to view this text after clicking either size's button</li></ul></div></div><div class="settings__btns-wrapper"><button class="settings__btn--f-size-large btn btn--default" aria-pressed="false" data-pref="f-size large">Large<span></span></button> <button class="settings__btn--f-size-unset btn btn--default" aria-pressed="false" data-pref="f-size unset">Unset<span></span></button> <button class="settings__btn--f-size-largest btn btn--default" aria-pressed="false" data-pref="f-size largest">Largest<span></span></button></div></fieldset></div><div class="panel"><fieldset class="settings__fieldset"><legend class="settings__legend">Letter spacing</legend><h3 class="accordion">Letter spacing help</h3><div class="accordion__panel"><div><ul><li>Default (Unset): Default letter spacing applies</li><li>Increased: Multiplies the font size by 0.12 and adds the sum as spacing between each character</li></ul></div></div><div class="settings__btns-wrapper"><button class="settings__btn--l-spacing-unset btn btn--default" aria-pressed="false" data-pref="l-spacing unset">Unset<span></span></button> <button class="settings__btn--l-spacing-increased btn btn--default" aria-pressed="false" data-pref="l-spacing increased">Increased<span></span></button></div></fieldset></div><div class="panel"><fieldset class="settings__fieldset"><legend class="settings__legend">Line height</legend><h3 class="accordion">Line height help</h3><div class="accordion__panel"><div><ul><li>Default (Unset): all text has a minimum line height of 1.5 times the size of the text</li><li>Increased: all text has a line height of twice the size of the text</li></ul></div></div><div class="settings__btns-wrapper"><button class="settings__btn--l-height-unset btn btn--default" aria-pressed="false" data-pref="l-height unset">Unset<span></span></button> <button class="settings__btn--l-height-increased btn btn--default" aria-pressed="false" data-pref="l-height increased">Increased<span></span></button></div></fieldset></div><div class="panel"><fieldset class="settings__fieldset"><legend class="settings__legend">Paragraph spacing</legend><h3 class="accordion">Paragraph spacing help</h3><div class="accordion__panel"><div><ul><li>Default (Unset): The space between paragraphs is equivalent to 1.5 times the height of the paragraph's text</li><li>Increased: The space between paragraphs is equivalent to 2.25 times the height of the paragraph's text</li></ul></div></div><div class="settings__btns-wrapper"><button class="settings__btn--p-spacing-unset btn btn--default" aria-pressed="false" data-pref="p-spacing unset">Unset<span></span></button> <button class="settings__btn--p-spacing-increased btn btn--default" aria-pressed="false" data-pref="p-spacing increased">Increased<span></span></button></div></fieldset></div><div class="panel"><fieldset class="settings__fieldset"><legend class="settings__legend">Word spacing preference</legend><h3 class="accordion">Word spacing help</h3><div class="accordion__panel"><div><ul><li>Default (Unset): No modifications to word spacing are present</li><li>Increased: Spaces between words are equivalent to 0.16 times the font size</li></ul></div></div><div class="settings__btns-wrapper"><button class="settings__btn--w-spacing-unset btn btn--default" aria-pressed="false" data-pref="w-spacing unset">Unset<span></span></button> <button class="settings__btn--w-spacing-increased btn btn--default" aria-pressed="false" data-pref="w-spacing increased">Increased<span></span></button></div></fieldset></div></div><footer class="dialog__footer"><button class="dialog__close-btn btn btn--on-primary" id="modalCloseBtn"><span>Close</span></button></footer></dialog><script>const settingsModal=document.querySelector("#settingsModal"),modalCloseBtn=settingsModal.querySelector("#modalCloseBtn"),prefsBtns=settingsModal.querySelectorAll('button[class^="settings__btn"]'),prefsModalBtn=document.querySelector("#prefsBtn"),accordions=document.querySelectorAll(".accordion"),navBtn=document.querySelector("#navBtn"),collabBtn=document.querySelector("#collabBtn"),expandAll=document.querySelector(".accs__toggle--expand-all"),collapseAll=document.querySelector(".accs__toggle--collapse-all"),accsContainer=document.querySelector(".accs__container"),toggleBool=(e,t,a)=>{a||(a="false"===e.getAttribute(t)?"true":"false"),e.getAttribute(t),e.setAttribute(t,a)};if(accordions.forEach(((e,t)=>{const a=e.innerText,l=e.nextElementSibling;let o="false";if(e.closest("[data-pre-expanded]")&&(o="true"),e.setAttribute("data-no-accent",""),l.id=`accPanel-${t+1}`,e.innerHTML=`<button class="accordion__btn" id="acc-${t+1}"\n  aria-controls="accPanel-${t+1}"\n  aria-expanded="${o}">${a}</button>`,"div"!==l.firstElementChild.tagName){const e=l.innerHTML;l.innerHTML="",l.insertAdjacentHTML("afterbegin",`<div>${e}</div>`)}let r=e.firstElementChild;e.setAttribute("data-open",`${o}`),r.addEventListener("click",(()=>{toggleBool(r,"aria-expanded"),toggleBool(r.parentElement,"data-open")})),(l.nextElementSibling===e||l.hasAttribute("data-last"))&&e.classList.add("accordion--multiple")})),accordions.forEach((e=>{const t=e.nextElementSibling;t.nextElementSibling&&t.nextElementSibling.hasAttribute("data-open")||t.setAttribute("data-last",""),e.previousElementSibling&&e.previousElementSibling.classList.contains("accordion__panel")||e.nextElementSibling.setAttribute("data-first",""),t.hasAttribute("data-first")&&t.hasAttribute("data-last")?(t.removeAttribute("data-last"),t.removeAttribute("data-first"),t.previousElementSibling.classList.add("accordion--single")):t.previousElementSibling.classList.add("accordion--multiple")})),accsContainer){const e=accsContainer.querySelectorAll(".accordion");collapseAll.setAttribute("aria-pressed","true"),accsContainer.addEventListener("click",(t=>{let a;if(t.target.hasAttribute("aria-pressed")&&(t.target===expandAll?(a="true",expandAll.setAttribute("aria-pressed","true"),collapseAll.setAttribute("aria-pressed","false")):t.target===collapseAll&&(a="false",collapseAll.setAttribute("aria-pressed","true"),expandAll.setAttribute("aria-pressed","false")),e.forEach((e=>{toggleBool(e,"data-open",a),toggleBool(e.firstElementChild,"aria-expanded",a)}))),t.target.classList.contains("accordion__btn")){let t=accsContainer.querySelectorAll('.accordion__btn[aria-expanded="true"]');t.length&&t.length<e.length?(expandAll.setAttribute("aria-pressed","mixed"),collapseAll.setAttribute("aria-pressed","mixed")):t.length?t.length&&t.length===e.length?(expandAll.setAttribute("aria-pressed","true"),collapseAll.setAttribute("aria-pressed","false")):(expandAll.setAttribute("aria-pressed","false"),collapseAll.setAttribute("aria-pressed","false")):(collapseAll.setAttribute("aria-pressed","true"),expandAll.setAttribute("aria-pressed","false"))}}))}prefsBtns.forEach((e=>{e.addEventListener("click",(()=>{e.setAttribute("aria-pressed","true");const t=e.getAttribute("data-pref").split(" ");"unset"!==t[1]?(document.documentElement.setAttribute(`data-pref--${t[0]}`,t[1]),window.localStorage.setItem(`data-pref--${t[0]}`,t[1])):(document.documentElement.removeAttribute(`data-pref--${t[0]}`),window.localStorage.removeItem(`data-pref--${t[0]}`)),togglePrefsBtns(e),"theme"===t[0]&&matchLogoToTheme()}))}));const togglePrefsBtns=e=>{e.closest(".settings__btns-wrapper").querySelectorAll("button").forEach((t=>{t!==e&&t.setAttribute("aria-pressed","false")}))},matchLogoToTheme=()=>{let e;e=document.documentElement.getAttribute("data-pref--theme")?document.documentElement.getAttribute("data-pref--theme"):window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",document.querySelectorAll("[data-main-logo]").forEach((t=>{t.getAttribute("srcset").includes(e)?t.setAttribute("media","all"):t.setAttribute("media","none")}))};matchLogoToTheme(),window.onload=()=>{const e={...localStorage};for(const t in e)t.startsWith("data-pref-")&&"data-pref--theme"!==t&&document.documentElement.setAttribute(`${t}`,e[t]);for(const e of document.documentElement.attributes)if(e.name.includes("data-pref--")){let t=e.name.split("--");settingsModal.querySelector(`.settings__btn--${t[1]}-${e.value}`).setAttribute("aria-pressed","true")}settingsModal.querySelectorAll(".settings__btns-wrapper").forEach((e=>{e.querySelector('button[aria-pressed="true"]')||e.querySelector('[data-pref~="unset"').setAttribute("aria-pressed","true")}))},collabBtn.addEventListener("click",(()=>{toggleBool(collabBtn,"aria-expanded")})),navBtn.addEventListener("click",(()=>{toggleBool(navBtn,"aria-expanded"),navBtn.removeAttribute("data-untouched")})),document.addEventListener("keydown",(e=>{"Escape"===e.key&&("true"!==collabBtn.getAttribute("aria-expanded")||settingsModal.hasAttribute("open")||toggleBool(collabBtn,"aria-expanded"))})),prefsModalBtn.addEventListener("click",(()=>{settingsModal.removeAttribute("hidden"),settingsModal.showModal()})),modalCloseBtn.addEventListener("click",(()=>{closeModal()})),document.addEventListener("click",(e=>{e.target===settingsModal&&closeModal()}));const closeModal=()=>{settingsModal.classList.add("closing"),setTimeout((()=>{settingsModal.classList.remove("closing"),settingsModal.setAttribute("hidden",""),settingsModal.close()}),800)},codeBlocks=document.querySelectorAll("pre"),tables=document.querySelectorAll("table");if(navigator.clipboard){const e=document.createElement("span");e.classList.add("announcement","visually-hidden"),e.setAttribute("aria-live","polite"),document.querySelector("footer").appendChild(e)}async function copySnippet(e){let t=e.closest(".code__header").querySelector(".copy__announcement");t.innerText="";let a=e.closest(".code__wrapper").querySelector("code").innerText;await navigator.clipboard.writeText(a),t.innerText="Copied to clipboard",setTimeout((()=>{t.innerText=""}),5e3)}codeBlocks.forEach(((e,t)=>{let a=e.getAttribute("class").split("-");if(a){let l=`${"javascript"==a[1]?a[1]="JavaScript":a[1].toUpperCase()}`;e.insertAdjacentHTML("beforebegin",`<div class="code__wrapper"><section class="code__region" aria-labelledby="cb${t+1}"><div class="code__header">\n    <span id="cb${t+1}" class="visually-hidden">Code block ${t+1}, ${l}</span></div></section></div>`);let o=e.previousElementSibling.querySelector(".code__header");e.previousElementSibling.querySelector(".code__region").appendChild(e),navigator.clipboard?(e.classList.add("code--with-copy"),o.insertAdjacentHTML("afterbegin",`<output class="copy__announcement flex--middle"></output><button class="code__copy-btn btn btn--default">Copy ${l}</button>`)):o.insertAdjacentHTML("afterbegin",`<span class="code__label">${l}</span>`)}})),document.querySelectorAll(".code__copy-btn").forEach((e=>{e.addEventListener("click",(e=>{copySnippet(e.target)}))}));const addTabStopToCodeBlock=()=>{document.querySelectorAll(".code__region").forEach((e=>{e.scrollWidth>e.getBoundingClientRect().width?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}))},toggleTabStopOnTable=()=>{tables.forEach(((e,t)=>{e.scrollWidth>window.innerWidth-20?(e.setAttribute("tabindex","0"),e.querySelector("caption")?(e.querySelector("caption").id=`caption-${t+1}`,e.setAttribute("aria-labelledby",e.querySelector("caption").id)):e.setAttribute("aria-label","Scrollable")):(e.removeAttribute("tabindex"),e.querySelector("caption")?e.removeAttribute("aria-labelledby"):e.removeAttribute("aria-label"))}))};window.addEventListener("resize",toggleTabStopOnTable),window.addEventListener("resize",addTabStopToCodeBlock),window.onresize=toggleTabStopOnTable,window.onresize=addTabStopToCodeBlock,toggleTabStopOnTable(),addTabStopToCodeBlock(),document.querySelectorAll(".callout__info").forEach((e=>{e.querySelector(".callout__icon").insertAdjacentHTML("afterbegin",'<svg width="24px" height="24px"><use href="#cInfo"></use></svg>')})),document.querySelectorAll(".callout__tip").forEach((e=>{e.querySelector(".callout__icon").insertAdjacentHTML("afterbegin",'<svg width="24px" height="24px"><use href="#cTip"></use></svg>')})),document.querySelectorAll(".callout__warn").forEach((e=>{e.querySelector(".callout__icon").insertAdjacentHTML("afterbegin",'<svg width="24px" height="24px"><use href="#cWarn"></use></svg>')}));</script></body></html>